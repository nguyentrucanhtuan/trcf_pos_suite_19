<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="trcf_kitchen_screen.KitchenDashboardTemplate">
        <div class="kitchen-container">
            <!-- Header -->
            <header class="header">
                <h1>üç≥ Kitchen Screen - M√†n h√¨nh b·∫øp</h1>
                <div class="datetime" id="datetime"></div>
            </header>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Order Header -->
                <div class="order-header">
                    <div class="order-title">üìã ƒê∆°n m·ªõi</div>
                    <div class="order-counter" id="orderCounter">
                        <t t-esc="state.draft_count"/>
                    </div>
                </div>

                <!-- Orders Grid -->
                <div class="orders-grid" id="ordersGrid">
                    <t t-foreach="getOrdersByStatus('draft')" t-as="order" t-key="order.id">
                        <div class="order-card">
                            <div class="order-info">
                                <div class="order-number"><t t-esc="order.table_id[1]"/> - <t t-esc="order.id"/></div>
                                <div class="order-time"><t t-esc="order.date_order"/> (5 ph√∫t tr∆∞·ªõc)</div>
                                <!-- <div class="order-status">ƒê∆°n m·ªõi</div> -->
                            </div>
                            
                            <div class="order-items">
                                
                                <ul class="items-list">
                                    <t t-foreach="getOrderLines(order.id)" t-as="line" t-key="line.id">
                                        <li t-att-class="line.trcf_order_status != 'draft' ? 'completed' : ''">
                                            <span class="item-quantity"><t t-esc="line.qty" /></span>
                                            <span class="item-name"
                                                t-on-click="() => this.markOrderLineReady(line.id)"
                                                >
                                                <t t-esc="line.full_product_name" />
                                            </span>
                                            <span class="item-status">‚úÖ</span>
                                        </li>
                                    </t>
                                </ul>
                            </div>
                            
                            <div class="order-actions">
                                <button 
                                    t-on-click="() => this.markAsDone(order.id)" 
                                    t-att-disabled="isOrderLoading(order.id)"
                                    class="action-btn btn-ready">
                                    <t t-if="isOrderLoading(order.id)">‚è≥ ƒêang x·ª≠ l√Ω...</t>
                                    <t t-else="">‚û°Ô∏è S·∫µn s√†ng</t>
                                </button>
                                <!-- <button class="action-btn btn-complete">
                                    ‚úÖ HU·ª∂
                                </button> -->
                            </div>
                        </div>
                    </t>
                </div>

                <!-- Empty State (Hidden by default) -->
                <!-- <div class="empty-state" style="display: none;">
                    <div class="empty-icon">üìù</div>
                    <h3>Kh√¥ng c√≥ ƒë∆°n h√†ng m·ªõi</h3>
                    <p>T·∫•t c·∫£ ƒë∆°n h√†ng ƒë√£ ƒë∆∞·ª£c x·ª≠ l√Ω</p>
                </div> -->
            </main>
        </div>
    </t>
</templates>